---
title: "Talking about graphs"
description: |
  Build a basic vocabulary to describe and characterize graphs.
date: "`r Sys.Date()`"
output: distill::distill_article
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
library(igraph)
library(networkD3)
set.seed(420)
```

Before we go further into other types of graphs, let's first build a basic vocabulary of how to talk about graphs.
How can we **quantify** simple things about a graph to characterize certain aspects of it?

### Network size and density

A low-hanging fruit is to first describe the **size** of a graph.
We can count how many nodes and how many edges a graph has (**node count** and **edge count**).

These two metrics seem inoccuously simple, but they give us everything we need to calculate an interesting metric that gives us a more meaningful way of characterizing a graph: its *density*.

Look at these two graphs:

```{r}
g1 <- erdos.renyi.game(15, 0.1)
g2 <- erdos.renyi.game(15, 0.9)
simpleNetwork(as_data_frame(g1), charge = -100, nodeColour = "blue")
simpleNetwork(as_data_frame(g2), charge = -100, nodeColour = "blue")
```

Despite the fact that they both have the same number of nodes, the difference between the two just hits you right between the eyes.
The second one is obviously more *dense* than the first one.

There is an easy way to quantify this.
**Network density** is calculated by dividing the actual *edge count* by the *number of possible edges*, that is, the maximum number of edges possible in a graph with a given node count.

$$
density(G) = \frac{edges(G)}{{edges_{max}}(G)}
$$

The maximum number of edges would be present if there is an edge between each possible pair of nodes.
A graph like that is called a **complete graph**.

The number of edges in a complete graph with $n$ nodes is calculated as follows:

$$
\frac{n(n - 1)}{2}
$$

#### Task

Can you figure out why?

#### Task

Calculate the network density of the following graph:

```{r}
g <- erdos.renyi.game(10, 0.5)
simpleNetwork(as_data_frame(g), charge = -100, nodeColour = "blue")
```



### Node degree

Let's now take a look at vertices.
What can we say about a vertex to describe it?

Well, first there is the ID that we gave it, but that's not very descriptive, is it?

In a simple graph like the ones that we just saw, there is one glaring thing that we can describe about a vertex:
The number of edges that attach to it.

```{r}
g <- erdos.renyi.game(7, 0.6)
simpleNetwork(as_data_frame(g), charge = -100, nodeColour = "blue")
```

Look at vertex 1.
It has `r degree(g, 1)` edges attached to it.
Vertex 7 has `r degree(g, 7)` edges attached to it.

We can see that this number differs between vertices.
In a small graph like this one, these differences seem insignificant, but you will see that they make a huge difference, especially if you look at larger graphs.

For instance, if you use a graph to model a social network (vertices are people and edges are relationships among them), can you see how much of a difference it would make if one person has 1000 acquaintances and another one has only 20?

The number of edges that attach to a node is called the *node degree*.